# RNStudyNotes

1.å¦‚æœå‡ºç°ä¸èƒ½é“¾æ¥åˆ°æœåŠ¡å™¨ï¼Œæ ¹æ®æç¤ºé‡å¯8081ç«¯å£ï¼Œè§£å†³æ–¹æ³•ï¼šipåœ°å€+ç«¯å£
2.ä½¿ç”¨Node.jsåšé¢„ç¼–è¯‘ï¼Œå¯ä»¥å®‰è£…react-toolså·¥å…·  
```
npm install -g react-tools
```
3.flexboxå¸ƒå±€ï¼Œæ˜¯flexible boxçš„ç¼©å†™ï¼Œå¼¹æ€§ç›’å­å¸ƒå±€ï¼Œflexå…ƒç´ å¯ä»¥è®©ä½ çš„å¸ƒå±€æ ¹æ®æµè§ˆå™¨çš„å¤§å°å˜åŒ–è‡ªåŠ¨è¿›è¡Œä¼¸ç¼©ï¼Œä¸»è½´é»˜è®¤ä¸ºæ°´å“è½´

4.RNç›®å‰ä¸»è¦æ”¯æŒflexboxçš„å¦‚ä¸‹6ä¸ªå±æ€§
* alignItems:å®šä¹‰ä¼¸ç¼©é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œï¼ˆflex-start,flex-end,center,stretchï¼‰
* alignSelf:ç”¨æ¥å®šä¹‰å•ç‹¬çš„ä¼¸ç¼©é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼auto|flex-start|flex-end|center|stretch
* flexï¼Œæ˜¯flex-grow(æ”¾å¤§),flex-shrink(ç¼©å°),flex-basis(åŸºå‡†)ä¸‰ä¸ªå±æ€§çš„ç¼©å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 auto
* flexDirection:ä¸»è½´æ–¹å‘row|row-reverse|column|column-reverse
* flexWrap:ä¼¸ç¼©å®¹å™¨åœ¨ä¸»è½´ç©ºé—´ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦æ¢è¡Œnowrap|wrap|wrap-reverse
* justContentï¼šä¼¸ç¼©é¡¹ç›®åœ¨ä¸»è½´çº¿çš„å¯¹é½æ–¹å¼,flex-start|flex-end|center|space-between|space-around

5.JSXå…¥é—¨ï¼Œå¹¶ä¸æ˜¯ä¸€é—¨æ–°çš„è¯­è¨€ï¼Œåªæ˜¯è¯­æ³•ç³–ï¼Œå…è®¸å¼€å‘è€…åœ¨javascriptä¸­ä¹¦å†™HTMLè¯­æ³•ï¼Œæœ€åæ¯ä¸ªhtmlæ ‡ç­¾éƒ½è½¬æ¢æˆjsä»£ç 
htmlæ ‡ç­¾è½¬æ¢æˆjs
`<h3>è¾“å…¥<\h3>`è½¬æ¢æˆ
React.createElement("h3",null,"è¾“å…¥"),è¿”å›ä¸€ä¸ªReactElementå¯¹è±¡
æ¯ä¸€ä¸ªæ ‡ç­¾éƒ½ç›¸å½“äºè¿”å›ä¸€ä¸ªå¯¹è±¡

6.å±æ€§
`var msg=<h1 width="10px">xxxxx</h1>`è½¬æ¢æˆ
`React.createElement("h1",{width:"10px"},"xxxxx")`

7.å»¶å±•å±æ€§
ä½¿ç”¨ES6çš„è¯­æ³•
var props={}; 
propos.foo="1";
propos.bar="1";
`<h1 {...props} foo="2">xxxxxxx</h1>`è½¬æ¢æˆï¼š
`React.createElement("h1",React._spread({},props,{foot:"2"}),"xxxxxx")`;
éå†æ‰€æœ‰çš„å±æ€§ï¼Œåæ»¡èµ‹å€¼çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§å€¼

8.è‡ªå®šä¹‰å±æ€§(h5å®šä¹‰ï¼Œå‡¡æ˜¯ä»¥`data-`å¼€å¤´çš„è‡ªå®šä¹‰å±æ€§ï¼Œå¯æ¸²æŸ“åˆ°é¡µé¢)
9.æ˜¾ç¤ºHTMLï¼Œæ˜¾ç¤ºä¸€æ®µHTMLå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯htmlèŠ‚ç‚¹ï¼Œå€ŸåŠ©ä¸€ä¸ªå±æ€§_html
`<div>{{_html:'<h1>xxxxxxxx</h1>'}}</div>`

10æ ·å¼çš„ä½¿ç”¨ã€‚
styleå±æ€§ï¼Œjså¯¹è±¡ï¼Œå¤–å±‚{}æŒ‰ç…§jsxè¯­æ³•ï¼Œå†…å±‚{}æ˜¯jså¯¹è±¡

11.äº‹ä»¶ç»‘å®š
```
var app=<button onClick={testClick.bind(this,'hello')}/>
function testClick(msg){
   alert(msg)
}
```

å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œä¸éœ€è¦å‚æ•°æ—¶bind(this),è¡¨ç¤ºå½“å‰ç‚¹å‡»çš„å¯¹è±¡


12.ReactJSåº”ç”¨
æ ¸å¿ƒæ€æƒ³ï¼šç»„ä»¶åŒ–ï¼Œç»´æŠ¤è‡ªå·±çš„çŠ¶æ€å’ŒUIï¼Œè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚

reactæ˜¯å…¨å±€å¯¹è±¡ï¼Œé¡¶å±‚APIä¸ç»„ä»¶APIï¼ŒReact.creatClassåˆ›å»ºç»„ä»¶ç±»çš„æ–¹æ³•
React.renderï¼Œå°†æŒ‡å®šç»„ä»¶æ¸²æŸ“åˆ°æŒ‡å®šDOMèŠ‚ç‚¹ã€‚è¢«ReactDOM.renderæ›¿ä»£
ç»„ä»¶çº§APIï¼Œè¿”å›ç»„ä»¶çš„å†…éƒ¨ç»“æ„

13.ReactJSå£°æ˜å‘¨æœŸ
* åˆ›å»ºé˜¶æ®µ 1âƒ£ï¸getDefaultsPropos:å¤„ç†propsçš„é»˜è®¤å€¼ï¼Œåœ¨react.createClassè°ƒç”¨ï¼Œthis.propsè¯¥ç»„ä»¶çš„é»˜è®¤å±æ€§
* å®ä¾‹åŒ–è°ƒç”¨ï¼ŒReact.renderä¹‹å2âƒ£ï¸getinitialState:åˆå§‹åŒ–ç»„ä»¶çš„stateå€¼ï¼Œå…¶è¿”å›å€¼ä¼šè‚¤è´¨ç»™ç»„ä»¶çš„this.stateå±æ€§3âƒ£ï¸;componentWillMountåœ¨renderä¹‹å‰è°ƒç”¨æ­¤æ–¹æ³•ï¼Œä¸šåŠ¡é€»è¾‘çš„å¤„ç†éƒ½åº”è¯¥æ”¾åœ¨è¿™é‡Œï¼Œå¦‚å¯¹stateçš„æ“ä½œç­‰ï¼›4âƒ£ï¸renderï¼šæ ¹æ®stateå€¼ï¼Œæ¸²æŸ“å¹¶è¿”å›ä¸€ä¸ªè™šæ‹ŸDOM5âƒ£ï¸ï¼›componentDidMountè¯¥æ–¹æ³•å‘ç”Ÿåœ¨renderä¹‹åï¼Œåœ¨è¯¥æ–¹æ³•ä¸­,reactJSä¼šä½¿ç”¨renderæ–¹æ³•è¿”å›çš„è™šæ‹ŸDOMå¯¹è±¡æ¥åˆ›å»ºçœŸå®çš„DOMç»“æ„ã€‚ç»„ä»¶å†…éƒ¨å¯ä»¥é€šè¿‡this.getDOMNode()æ¥è·å–å½“å‰ç»„ä»¶çš„èŠ‚ç‚¹ã€‚`state:ç»„ä»¶çš„å±æ€§ï¼Œä¸»è¦ç”¨æ¥å­˜å‚¨ç»„ä»¶è‡ªèº«éœ€è¦çš„æ•°æ®ï¼Œæ¯æ¬¡æ•°æ®çš„æ›´æ–°éƒ½æ˜¯é€šè¿‡ä¿®æ”¹stateå±æ€§çš„å€¼ï¼ŒreactJSå†…éƒ¨ä¼šç›‘å¬stateå±æ€§çš„å˜åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŒ–è¯ï¼Œå°±ä¼šä¸»åŠ¨å‡ºå‘ç»„ä»¶çš„renderæ–¹æ³•æ¥æ›´æ–°è™šæ‹Ÿçš„DOMç»“æ„ã€‚`ï¼Œ`è™šæ‹ŸDOM:å°†çœŸå®çš„DOMç»“æ„æ˜ å°„æˆä¸€ä¸ªJSONæ•°æ®ç»“æ„`
* æ›´æ–°é˜¶æ®µï¼š6âƒ£ï¸ componentWillReceivePropsè¯¥æ–¹æ³•å‘ç”Ÿåœ¨this.propsè¢«è¥¿æ‹æˆ–è€…çˆ¶ç»„ä»¶è°ƒç”¨setpropsæ–¹æ³•ä¹‹åï¼Œè°ƒç”¨this.setStateæ–¹æ³•æ¥å®Œæˆå¯¹stateçš„ä¿®æ”¹7âƒ£ï¸shouldComponentUpdateç”¨æ¥æ‹¦æˆªæ–°çš„propsæˆ–è€…stateï¼Œæ ¹æ®é€»è¾‘æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°8âƒ£ï¸componentWillUpdateaå°†è¦æ›´æ–°9âƒ£ï¸ï¼šrenderæ›´æ–°éœ€è¦æ›´æ–°çš„ğŸ”ŸcomponentDidUpdate
* é”€æ¯é˜¶æ®µ:componentWillunmount é€šå¸¸åšä¸€äº›å–æ¶ˆäº‹ä»¶åŠä¸ï¼Œä¸€å‡ºè™šæ‹ŸDOMä¸­å¯¹åº”çš„ç»„ä»¶æ•°æ®ç»“æ„ï¼Œé”€æ¯ä¸€äº›æ— æ•ˆçš„å®šæ—¶å™¨å·¥ä½œ


14.ReactJSç»„ä»¶é€šä¿¡
 å­ç»„ä»¶è°ƒç”¨ä¼ç»„ä»¶this.props
 çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ï¼Œå…ˆç»™å­ç»„ä»¶å–ä¸ªreftå±æ€§ï¼Œthis.refs.å­ç»„ä»¶refåå­—.getDOMNode().style.color="red"
 
15.cd åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œreact-native startå¯ä»¥å¯åŠ¨jsæœåŠ¡å™¨

16.http://localhost:8081/index.ios.bundle?platform=ios&dev=trueï¼Œå½“åº”ç”¨å¯åŠ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æ‹‰å–è¿™ä¸ªbundleæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶é‡Œå­˜æ”¾çš„æ˜¯åº”ç”¨çš„å…¨éƒ¨é€»è¾‘ä»£ç ï¼Œåœ¨ç›®å½•ä¸­å¹¶ä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œäº‹å®ä¸Šï¼Œè¿™ä¸ªåœ°å€åªæ˜¯ä¸€ä¸ªè¯·æ±‚åœ°å€ï¼Œè€ŒéçœŸæ­£çš„é™æ€èµ„æºæ–‡ä»¶ï¼Œæ˜¯é€šè¿‡åŒ…æœåŠ¡å™¨packageré€šè¿‡åŠ¨æ€åˆ†æindex.ios.jsä¸­çš„ä¾èµ–ï¼Œå¹¶å¯¹å…¶è¿›è¡Œåˆå¹¶å¾—åˆ°çš„ï¼Œè€Œä¸”è¯¥æœåŠ¡å™¨å…è®¸ä»£ç å®æ—¶æ¸²æŸ“ã€‚

17.çœŸæœºæµ‹è¯•è¿‡ç¨‹ä¸­å‡ºç°ä¸€ä¸‹é”™è¯¯    
![](https://github.com/shorty-Man/RNStudyNotes/blob/master/QQ20160621-0.png)    
åœ¨ä»£ç ä¸­çš„é”™è¯¯ä½ç½®åˆ™æ˜¯åœ¨index.ios.jsçš„31è¡Œå·¦å³

18.felxboxæ°´å¹³çƒ‚å¸ƒå±€
> å¤–è”æ ·å¼ style={styles.container}   
> å†…è”æ ·å¼ style={{flex:1,borderWidth:1...}}   
> å¤šä¸ªæ ·å¼ style={[styles.container,styles.item]}

19.[flexboxä½¿ç”¨æ ·ä¾‹](https://github.com/shorty-Man/RNStudyNotes/blob/master/index.ios.flexBoxè¿ç”¨.js)ï¼Œä½¿ç”¨æ—¶å»æ‰æ–‡ä»¶å‘½ä¸­çš„flexboxè¿ç”¨

20.Navigatorä»‹ç»ä½¿ç”¨ï¼Œæ­£å¼çš„å¼€å‘å½“ä¸­ä½¿ç”¨Navigatorï¼Œè€ŒNavigatorIoså¹¶ä¸æ˜¯RNå®˜æ–¹å›¢é˜Ÿæ‰€å¼€å‘ï¼Œåªä½¿ç”¨äºIOS

21.ä½¿ç”¨æ•°ç»„æ—¶å‡ºç°warning keyè­¦å‘Šï¼Œåœ¨ä½¿ç”¨æ•°ç»„çš„åœ°æ–¹åŠ ä¸Škey={i}å°±å¥½

22.å‚æ•°ä¼ é€’ï¼šåœ¨pushæ—¶æŠŠroute.paramsé‡Œçš„æ¯ä¸ªkeyä½œä¸ºpropsçš„ä¸€ä¸ªå±æ€§ï¼Œ{...route.params},åœ¨
```js
componentDidMount{
   this.setState({
      id:this.props.id//è·å–ä¼ é€’è¿‡æ¥çš„å‚æ•°
   })
}
```

23.åœ¨ç”¨å°ç±³æ‰‹æœºè°ƒè¯•å®‰å“appæ—¶é‡åˆ°å®‰è£…å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åˆ°é¡¹ç›®çš„ä»¥ä¸‹ç›®å½•ä¸­å¯»æ‰¾apkç›´æ¥å®‰è£…:é¡¹ç›®å/android/app/build/outputs/apk

24.RNä¸­æ²¡æœ‰åƒwebå¼€å‘ç»™å…ƒç´ ç»‘å®šclickäº‹ä»¶ï¼ŒRNæä¾›äº†3ä¸ªç»„ä»¶æ¥èµ‹äºˆè¢«ç‚¹å‡»çš„èƒ½åŠ›ï¼Œå»åŒ…è£¹å…¶å®ƒç»„ä»¶å³å¯ï¼Œè¿™3ä¸ªç»„ä»¶è¢«ç§°ä¸ºTouchableç±»ç»„ä»¶ã€‚
* TouchableHighlight é«˜äº®   
   å±æ€§ï¼šactiveOpacityï¼ˆè®¾ç½®é€æ˜åº¦ï¼‰,onHideUnderlayï¼ˆéšè—é˜´å½±èƒŒæ™¯æ•ˆæœï¼‰,onShowUnderlay(æ˜¾ç¤ºé˜´å½±èƒŒæ™¯æ•ˆæœ),underlayColorï¼ˆç‚¹å‡»èƒŒæ™¯é˜´å½±æ•ˆæœçš„èƒŒæ™¯é¢œè‰²ï¼‰;
* TouchableOpacity é€æ˜åº¦   
   å±æ€§ï¼šactiveOpacityï¼Œç‚¹å‡»æ—¶æœ‰é€æ˜åº¦å˜åŒ–
* TouchableWithoutFeedback æ— åé¦ˆ ä¸ä¼šå‡ºç°ä»»ä½•è§†è§‰å˜åŒ–
   ä¸å»ºè®®ä½¿ç”¨ï¼›å±æ€§ï¼šonLongPress(é•¿å®‰å›è°ƒ),onPressIn(æŒ‰ä¸‹),onPressout(å¼¹å¼€)


25.[ä½¿ç”¨æ‹¨æ‰“ç”µè¯åŠŸèƒ½](http://bbs.reactnative.cn/topic/658/react-nativeä¸‹å¦‚ä½•æ‹¨æ‰“ç”µè¯/2)
